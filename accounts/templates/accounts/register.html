{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <h2>Register</h2>
    <p>Create your account below:</p>

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <!-- novalidate disables browser-side validation so backend logging runs -->
    <form method="post" novalidate>
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="form-group mb-3">
            <label for="id_username">Username:</label>
            {{ form.username }}
            <div class="text-danger">{{ form.username.errors }}</div>
        </div>

        <div class="form-group mb-3">
            <label for="id_email">Email:</label>
            {{ form.email }}
            <div class="text-danger">{{ form.email.errors }}</div>
        </div>

        <div class="form-group mb-3">
            <label for="id_password1">Password:</label>
            {{ form.password1 }}
            <div class="text-danger">{{ form.password1.errors }}</div>
        </div>

        <div class="form-group mb-3">
            <label for="id_password2">Password confirmation:</label>
            {{ form.password2 }}
            <div class="text-danger">{{ form.password2.errors }}</div>
        </div>

        <button type="submit" class="btn btn-primary mt-3">Register</button>
    </form>

    <hr>
    <p>Already have an account? <a href="{% url 'login' %}">Login here</a></p>
</div>
{% endblock %}
